(()=>{"use strict";const t=[["Action (set A)","Action (set B)","Animal (set A)","Animal (set B)","Clothes","Emotions","Food","School"],[{word:"cry",translation:"плакать",image:"img/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"img/dance.jpg",audioSrc:"audio/dance.mp3"},{word:"dive",translation:"нырять",image:"img/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"img/draw.jpg",audioSrc:"audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"img/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"fly",translation:"летать",image:"img/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"img/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"img/jump.jpg",audioSrc:"audio/jump.mp3"}],[{word:"open",translation:"открывать",image:"img/open.jpg",audioSrc:"audio/open.mp3"},{word:"play",translation:"играть",image:"img/play.jpg",audioSrc:"audio/play.mp3"},{word:"point",translation:"указывать",image:"img/point.jpg",audioSrc:"audio/point.mp3"},{word:"ride",translation:"ездить",image:"img/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"run",translation:"бегать",image:"img/run.jpg",audioSrc:"audio/run.mp3"},{word:"sing",translation:"петь",image:"img/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"img/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"swim",translation:"плавать",image:"img/swim.jpg",audioSrc:"audio/swim.mp3"}],[{word:"cat",translation:"кот",image:"img/cat.jpg",audioSrc:"audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"img/chick.jpg",audioSrc:"audio/chick.mp3"},{word:"chicken",translation:"курица",image:"img/chicken.jpg",audioSrc:"audio/chicken.mp3"},{word:"dog",translation:"собака",image:"img/dog.jpg",audioSrc:"audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"img/horse.jpg",audioSrc:"audio/horse.mp3"},{word:"pig",translation:"свинья",image:"img/pig.jpg",audioSrc:"audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"img/rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"img/sheep.jpg",audioSrc:"audio/sheep.mp3"}],[{word:"bird",translation:"птица",image:"img/bird.jpg",audioSrc:"audio/bird.mp3"},{word:"fish",translation:"рыба",image:"img/fish1.jpg",audioSrc:"audio/fish.mp3"},{word:"frog",translation:"жаба",image:"img/frog.jpg",audioSrc:"audio/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"img/giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"img/lion.jpg",audioSrc:"audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"img/mouse.jpg",audioSrc:"audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"img/turtle.jpg",audioSrc:"audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"img/dolphin.jpg",audioSrc:"audio/dolphin.mp3"}],[{word:"skirt",translation:"юбка",image:"img/skirt.jpg",audioSrc:"audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"img/pants.jpg",audioSrc:"audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"img/blouse.jpg",audioSrc:"audio/blouse.mp3"},{word:"dress",translation:"платье",image:"img/dress.jpg",audioSrc:"audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"img/boot.jpg",audioSrc:"audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"img/shirt.jpg",audioSrc:"audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"img/coat.jpg",audioSrc:"audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"img/shoe.jpg",audioSrc:"audio/shoe.mp3"}],[{word:"sad",translation:"грустный",image:"img/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"img/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"img/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"tired",translation:"уставший",image:"img/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"img/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"img/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"img/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"laugh",translation:"смех",image:"img/laugh.jpg",audioSrc:"audio/laugh.mp3"}],[{word:"bread",translation:"хлеб",image:"img/bread.jpg",audioSrc:"audio/bread.mp3"},{word:"plum",translation:"слива",image:"img/plum.jpg",audioSrc:"audio/plum.mp3"},{word:"cucumber",translation:"огурец",image:"img/cucumber.jpg",audioSrc:"audio/cucumber.mp3"},{word:"jam",translation:"варенье",image:"img/jam.jpg",audioSrc:"audio/jam.mp3"},{word:"cake",translation:"торт",image:"img/cake.jpg",audioSrc:"audio/cake.mp3"},{word:"milk",translation:"молоко",image:"img/milk.jpg",audioSrc:"audio/milk.mp3"},{word:"eggs",translation:"яйца",image:"img/eggs.jpg",audioSrc:"audio/eggs.mp3"},{word:"cheese",translation:"сыр",image:"img/cheese.jpg",audioSrc:"audio/cheese.mp3"}],[{word:"teacher",translation:"учитель",image:"img/teacher.jpg",audioSrc:"audio/teacher.mp3"},{word:"student",translation:"ученик",image:"img/student.jpg",audioSrc:"audio/student.mp3"},{word:"question",translation:"вопрос",image:"img/question.jpg",audioSrc:"audio/question.mp3"},{word:"paper",translation:"бумага",image:"img/paper.jpg",audioSrc:"audio/paper.mp3"},{word:"lesson",translation:"урок",image:"img/lesson.jpg",audioSrc:"audio/lesson.mp3"},{word:"desk",translation:"письменный стол",image:"img/desk.jpg",audioSrc:"audio/desk.mp3"},{word:"book",translation:"книга",image:"img/book.jpg",audioSrc:"audio/book.mp3"},{word:"answer",translation:"ответ",image:"img/answer.jpg",audioSrc:"audio/answer.mp3"}]];function e(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.createElement(e);return Array.isArray(n)?n.forEach((function(t){return o.classList.add(t)})):n&&o.classList.add(n),o.innerHTML=r,t.append(o),o}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(a)?a:String(a)),o)}var a}function o(t,r,n,o,a,i){var c=e(t,"img","",o);c.src=r,c.alt=n;var u=e(t,"h3",i,a);return i.length>15&&(u.style.marginTop=0),t}var a=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.className=r}var e,r;return e=t,r=[{key:"createCard",value:function(t,e,r,n,a){return o(this.createCardContainer(n),t,e,r,a,n)}},{key:"createCardContainer",value:function(t){var e=document.createElement("div");return e.classList.add(this.className),e.dataset.name=t,e}}],r&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},u.apply(this,arguments)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}const l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(g,t);var r,n,a,l,m=(a=g,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(a);if(l){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),m.apply(this,arguments)}return r=g,(n=[{key:"createCard",value:function(t,r,n,a,i,c,s,l){var m=u(d(g.prototype),"createCardContainer",this).call(this,i),p=e(m,"div","",s);e(p,"img","","card__rotate-btn").src="img/rotate.svg";var f=e(m,"div","",l);return o(p,t,r,n,a,i),o(f,t,r,n,a,c),m}}])&&c(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),g}(a);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}const p=function(){function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.category=r,this.translation=n,this.trainCount=o,this.playCount=a,this.errorCount=i,this.percent=c}var e,r;return e=t,(r=[{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"category",get:function(){return this._category},set:function(t){this._category=t}},{key:"translation",get:function(){return this._translation},set:function(t){this._translation=t}},{key:"trainCount",get:function(){return this._trainCount},set:function(t){this._trainCount=t}},{key:"playCount",get:function(){return this._playCount},set:function(t){this._playCount=t}},{key:"errorCount",get:function(){return this._errorCount},set:function(t){this._errorCount=t}},{key:"percent",get:function(){return this.calculatePercent()},set:function(t){this._percent=t}},{key:"addTrainCount",value:function(){this._trainCount++}},{key:"addPlayCount",value:function(){this._playCount++}},{key:"addErrorCount",value:function(){this._errorCount++}},{key:"calculatePercent",value:function(){return 0!==this._playCount?(this._percent=Math.round(this._playCount/(this._playCount+this._errorCount)*100),this._percent):0}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(){if(sessionStorage.getItem("stat")){var t=new Map(JSON.parse(sessionStorage.getItem("stat"))),e=new Map;return t.forEach((function(t){var r=t,n=new p(r._name,r._category,r._translation,r._trainCount,r._playCount,r._errorCount,r._percent);e.set("".concat(r._name,"_").concat(r._category),n)})),e}return 0}function y(t){sessionStorage.setItem("stat",JSON.stringify(Array.from(t.entries())))}function _(t,e){(r=e.getBoundingClientRect()).top,window.scrollY,r.right,window.scrollX,r.bottom,window.scrollY;var r,n=r.left+window.scrollX;t.style.left="".concat(n-20,"px");var o=document.querySelector(".burger-menu__main-img"),a=document.documentElement.scrollWidth;t.style.left="".concat(n-20,"px"),a>466&&a<682&&(t.style.top="".concat(6,"rem"),t.style.height="calc(100vh - 6rem)"),a<466&&(t.style.paddingTop="".concat(4,"rem"),o.style.top="".concat(4.45,"rem"))}function h(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t,r){var n=0;r.forEach((function(r){var o=e(t,"tr","",""),a=r;e(o,"td",++n,["stat__td","stat__td_center"]),e(o,"td",a.category,"stat__td"),e(o,"td",a.name,"stat__td"),e(o,"td",a.translation,"stat__td"),e(o,"td",a.trainCount,["stat__td","stat__td_center"]),e(o,"td",a.playCount,["stat__td","stat__td_center"]),e(o,"td",a.errorCount,["stat__td","stat__td_center"]),e(o,"td",a.percent,["stat__td","stat__td_center"])}))}function b(t,e){t.forEach((function(t){t.style.display=e}))}function S(t,e,r){t.forEach((function(t){t.style.height=e+r}))}function j(t,e){if(t.checked){var r=document.documentElement.scrollWidth,n=e.offsetWidth;e.style.top="".concat(r<464?13:10.5,"rem"),e.style.left="".concat(r/2-n/2,"px")}}function k(t,e){if(t.checked){var r=document.querySelector(".play__btn-img_repeat");r&&e.removeChild(r),e.classList.remove("play__btn_repeat"),e.classList.remove("hover")}}function C(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}for(var L=new Map,T=0;T<t.length-1;T++)L.set(t[0][T],t[T+1]);var A=new Map;if(sessionStorage.getItem("stat"))A=f();else if(0===A.size){var M,O=C(L);try{for(O.s();!(M=O.n()).done;){var q,P=M.value,x=C(P[1]);try{for(x.s();!(q=x.n()).done;){var I=q.value,R=new p(I.word,P[0],I.translation);A.set("".concat(I.word,"_").concat(P[0]),R)}}catch(t){x.e(t)}finally{x.f()}}}catch(t){O.e(t)}finally{O.f()}}var W=!0,N=!1,D=null,Y=document.body,z=e(Y,"button","Start","play__btn"),B=e(Y,"div","","mask");B.hidden=!0;var H=e(Y,"nav","","burger-menu"),J=e(H,"ul","",""),U=e(J,"li","",""),X=document.querySelector("#burger-btn");function $(){X.classList.toggle("burger-btn_active"),H.classList.toggle("burger-menu_open"),Y.classList.toggle("noscroll"),B.hidden=!B.hidden}_(H,X),B.addEventListener("click",(function(){$()})),document.querySelector(".header__logo").addEventListener("click",(function(){window.location.reload()}));var F=t[0];!function(t){var r=e(t,"object","","burger-menu__main-img");r.type="image/svg+xml",r.data="img/home.svg";var n=e(t,"a","Main page","burger-menu__main-link");n.setAttribute("href","#"),n.classList.add("burger__link_active"),n.dataset.category="Main page"}(U),function(t,r){t.forEach((function(t){var n=e(r,"li","",""),o=e(n,"a",t,"");o.setAttribute("href","#"),o.dataset.category=t,r.append(n)}))}(F,J);var G=function(t){var r=e(t,"li","",""),n=e(r,"a","Statistics","stat__link");return n.setAttribute("href","#"),n.dataset.category="Statistics",n}(J),K=document.querySelector(".switch-btn input");X.addEventListener("click",(function(){$(),_(H,X),j(K,z)})),window.addEventListener("resize",(function(){_(H,X),j(K,z)}));var Q=document.querySelector(".burger__link_active");function V(){var t=document.querySelector(".burger-menu__main-img").contentDocument.documentElement.querySelector("#homeImg");Q.classList.remove("burger__link_active"),t.style.strokeWidth="".concat(1,"px")}for(var Z=null,tt=0,et=0,rt=[],nt=0;nt<t.length-1;nt++){var ot={};ot.title=F[nt],ot.srcImg=t[nt+1][0].image,ot.altText=F[nt].toLowerCase(),rt.push(ot)}var at=document.querySelector(".cards");function it(t){new Audio(t).play()}function ct(t){at.replaceChildren(),at.style.flexDirection="column",z.remove();var r=e(at,"img","","play__img"),n=e(at,"h3","","play__losing-count");"lose"===t?(it("audio/failure.mp3"),n.innerHTML="Number of mistakes: ".concat(et),r.src="img/sad.gif",r.alt="you lose"):(it("audio/success.mp3"),n.innerHTML="Great job!",r.src="img/win.gif",r.alt="you win"),Z=null,tt=0,et=0,setTimeout((function(){window.location.reload()}),4e3)}rt.forEach((function(t){var e=new a("cardCategories","card"),r=t.srcImg,n=t.altText,o=t.title;at.append(e.createCard(r,n,"card__img",o,"card__title"))}));var ut=[];function st(t){var e=t.target.closest(".card__front"),r=t.target.closest(".card__word"),n=t.target.closest(".card__rotate-btn");e&&!n&&W&&N&&r&&ut.forEach((function(t){t.word===r.dataset.name&&it(t.audioSrc)}))}function dt(t){L.get(t).forEach((function(t){var e=new l("cardWord","card__word"),r=t.image,n=t.word,o=t.word,a=t.translation;at.append(e.createCard(r,n,"card__word-img","card__word-title",o,a,"card__front","card__back"))}))}function lt(){W=function(t,e){var r=document.querySelectorAll(".card__word-title"),n=document.querySelectorAll(".card__rotate-btn"),o=document.querySelectorAll(".card__word-img");return e.checked?(t=!1,b(r,"none"),b(n,"none"),S(o,100,"%")):(t=!0,b(r,"block"),b(n,"block"),S(o,130,"px")),t}(W,K),function(t,e){t.checked?(e.style.display="inline-block",j(t,e)):e.style.display="none"}(K,z),z.addEventListener("click",(function(){!function(t){if(!t.classList.contains("play__btn_repeat")){var r=e(t,"img","","play__btn-img_repeat");r.src="img/repeat.svg",r.alt="repeat word",t.classList.add("hover"),t.classList.add("play__btn_repeat")}}(z),j(K,z),it(Z[tt].audioSrc)}))}J.addEventListener("click",(function(t){var e=t.target.closest("a");if(e&&!e.classList.contains("stat__link"))if(e.classList.contains("burger-menu__main-link"))window.location.reload();else if(Z)ct("lose"),$();else{if("Statistics"===D&&(at.style.marginTop="".concat(10,"rem")),N){N=!1,ut=[],at.removeEventListener("click",st),at.style.flexDirection="row";var r=document.querySelector(".header__switch");r.style.opacity=1,r.style.zIndex=1}V(),at.replaceChildren();var n=e.dataset.category;dt(n),D=n,e.classList.add("burger__link_active"),Q=e,$(),lt(),k(K,z),j(K,z)}}));var mt=!1,gt=!1,pt=!1,ft=!1,yt=!1,_t=!1,ht=!1;function vt(t){return Array.from(L.values()).flat().find((function(e){return e.word===t}))}function wt(t,r){var n=e(r,"img","","play__star-img");"correct"===t?(n.src="img/star-win.svg",n.alt="star win",it("audio/correct.mp3")):(n.src="img/star.svg",n.alt="star lose",it("audio/error.mp3")),r.scrollHeight>r.offsetHeight&&r.removeChild(r.childNodes[0])}G.addEventListener("click",(function(){var t,r;Z?(ct("lose"),$()):(z.style.display="none",D=G.dataset.category,y(A),f(),at.replaceChildren(),at.style.marginTop="".concat(3,"rem"),function(t){var r=e(t,"div","","stat__btn-inner");e(r,"button","Train difficult",["stat__btn","stat__btn_train"]),e(r,"button","Reset statistics",["stat__btn","stat__btn_reset"])}(at),t=e(at,"table","","stat__table"),function(t){var r=e(t,"tr","","stat__headers");["№","Category","Word","Translation","Clicks","Correct","Wrong","% Correct"].forEach((function(t){if("№"===t)e(r,"th",t,"stat__number");else if("Category"===t||"Word"===t||"Translation"===t){var n=e(r,"th",t,"stat__th");n.dataset.headersTitle=t;var o=e(n,"img","","stat__th-img");o.src="img/sort-icon.svg",o.alt="sort"}else{var a=e(r,"th",t,["stat__th","stat__th_num"]);a.dataset.headersTitle=t;var i=e(a,"img","","stat__th-img");i.src="img/sort-icon.svg",i.alt="sort"}}))}(r=e(t,"tbody","","")),w(r,A),document.querySelector(".stat__headers").addEventListener("click",(function(e){var n=e.target.closest(".stat__th");if(n){switch(n.dataset.headersTitle){case"Category":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].category>e[1].category?1:-1}))):new Map(h(e).sort((function(t,e){return e[1].category>t[1].category?1:-1})))}(mt=!mt,A);break;case"Word":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].name>e[1].name?1:-1}))):new Map(h(e).sort((function(t,e){return e[1].name>t[1].name?1:-1})))}(gt=!gt,A);break;case"Translation":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].translation>e[1].translation?1:-1}))):new Map(h(e).sort((function(t,e){return e[1].translation>t[1].translation?1:-1})))}(pt=!pt,A);break;case"Clicks":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].trainCount-e[1].trainCount}))):new Map(h(e).sort((function(t,e){return e[1].trainCount-t[1].trainCount})))}(ft=!ft,A);break;case"Correct":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].playCount-e[1].playCount}))):new Map(h(e).sort((function(t,e){return e[1].playCount-t[1].playCount})))}(yt=!yt,A);break;case"Wrong":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].errorCount-e[1].errorCount}))):new Map(h(e).sort((function(t,e){return e[1].errorCount-t[1].errorCount})))}(_t=!_t,A);break;case"% Correct":A=function(t,e){return t?new Map(h(e).sort((function(t,e){return t[1].percent-e[1].percent}))):new Map(h(e).sort((function(t,e){return e[1].percent-t[1].percent})))}(ht=!ht,A)}for(;1<t.rows.length;)t.deleteRow(1);w(r,A)}})),$(),document.querySelector(".stat__btn_train").addEventListener("click",(function(){N=!0;var t,r=0,n=C(new Map(h(A).sort((function(t,e){return t[1].percent-e[1].percent})).filter((function(t){return 0!==t[1].percent&&100!==t[1].percent||0===t[1].percent&&t[1].errorCount>0}))).values());try{for(n.s();!(t=n.n()).done;){var o=t.value;if(r<8){var a=vt(o.name);ut.push(a),r++}}}catch(t){n.e(t)}finally{n.f()}if(0!==ut.length){var i=document.querySelector(".header__switch");i.style.opacity=0,i.style.zIndex=-1,at.replaceChildren(),ut.forEach((function(t){var e=new l("cardWord","card__word"),r=t.image,n=t.word,o=t.word,a=t.translation;at.append(e.createCard(r,n,"card__word-img","card__word-title",o,a,"card__front","card__back"))})),at.addEventListener("click",st)}else{at.replaceChildren(),at.style.flexDirection="column",at.style.marginTop="".concat(10,"rem");var c=document.querySelector(".header__switch");c.style.opacity=0,c.style.zIndex=-1;var u=e(at,"img","","stat__img");u.src="img/win.gif",u.alt="nothing to repeat",e(at,"h3","Nothing to repeat!","stat__nothing"),it("audio/success.mp3"),setTimeout((function(){window.location.reload()}),3e3)}})),document.querySelector(".stat__btn_reset").addEventListener("click",(function(){sessionStorage.clear(),ut=[],A=new Map;var t,e=C(L);try{for(e.s();!(t=e.n()).done;){var r,n=t.value,o=C(n[1]);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=new p(a.word,n[0],a.translation);A.set("".concat(a.word,"_").concat(n[0]),i)}}catch(t){o.e(t)}finally{o.f()}}}catch(t){e.e(t)}finally{e.f()}for(var c=document.querySelector("table"),u=document.querySelector("tbody");1<c.rows.length;)c.deleteRow(1);w(u,A)})))})),at.addEventListener("click",(function(t){var e=t.target.closest(".card");if(e){at.replaceChildren(),dt(e.dataset.name),D=e.dataset.name,V();var r=document.querySelector('[data-category="'.concat(D,'"]'));r.classList.add("burger__link_active"),Q=r,lt()}})),at.addEventListener("click",(function(t){var e=t.target.closest(".card__rotate-btn"),r=t.target.closest(".card__word");if(e){var n=t.target.closest(".card__front"),o=r.querySelector(".card__back");n.style.transform="rotateY(180deg)",o.style.transform="rotateY(360deg)",r.style.cursor="default",r.addEventListener("mouseleave",(function(){n.style.transform="rotateY(0deg)",o.style.transform="rotateY(180deg)",r.style.cursor="pointer"}))}})),at.addEventListener("click",(function(t){var e=t.target.closest(".card__front"),r=t.target.closest(".card__word"),n=t.target.closest(".card__rotate-btn");e&&!n&&W&&!N&&L.get(D).forEach((function(t){t.word===r.dataset.name&&(it(t.audioSrc),A.get("".concat(t.word,"_").concat(D)).addTrainCount())}))})),K.addEventListener("change",(function(){at.children[0].classList.contains("card")||"Statistics"===D||(lt(),k(K,z),j(K,z),Z&&ct("lose"))})),z.addEventListener("click",(function(){Z||(Z=L.get(D).sort((function(){return Math.random()-.5})));var t=Z[tt];it(t.audioSrc);var r=e(at,"div","","play__star-box");at.addEventListener("click",(function(e){var n=e.target.closest(".card__word");if(n){var o=A.get("".concat(t.word,"_").concat(D));n.dataset.name===t.word?(wt("correct",r),o.addPlayCount(),n.style.opacity=.5,n.style.pointerEvents="none",++tt===Z.length?ct(et?"lose":"win"):(t=Z[tt],setTimeout((function(){it(t.audioSrc)}),1e3))):(wt("incorrect",r),o.addErrorCount(),et++)}}))}),{once:!0}),window.addEventListener("beforeunload",(function(){y(A)}))})();